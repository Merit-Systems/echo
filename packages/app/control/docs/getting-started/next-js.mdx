---
title: Next.js
description: Use Echo to make monetized AI Next.js apps.
---
import { Step, Steps } from 'fumadocs-ui/components/steps';
import { File, Folder, Files } from 'fumadocs-ui/components/files';


# Getting Started with Next.js

<Steps>

    <Step>
        ### Install the Echo Next SDK
        <Tabs items={['npm', 'yarn', 'pnpm', 'bun']}>
            <Tab value="npm">
                ```sh
                npm i @merit-systems/echo-next-sdk
                ```
            </Tab>
            <Tab value="yarn">
                ```sh
                yarn add @merit-systems/echo-next-sdk
                ```
            </Tab>
            <Tab value="pnpm">
                ```sh
                pnpm add @merit-systems/echo-next-sdk
                ```
            </Tab>
            <Tab value="bun">
                ```sh
                bun add @merit-systems/echo-next-sdk
                ```
            </Tab>
        </Tabs>
    </Step>

    <Step>
        ### Install Vercel AI SDK 
        <Tabs items={['npm', 'yarn', 'pnpm', 'bun']}>
            <Tab value="npm">
                ```sh
                npm i ai
                ```
            </Tab>
            <Tab value="yarn">
                ```sh
                yarn add ai
                ```
            </Tab>
            <Tab value="pnpm">
                ```sh
                pnpm add ai
                ```
            </Tab>
            <Tab value="bun">
                ```sh
                bun add ai
                ```
            </Tab>
        </Tabs>
    </Step>

    <Step>
        ### Create an Echo App
        Go to [echo.merit.systems/new](https://echo.merit.systems/new) to get an `app_id`.
    </Step>

    <Step>
        ### Add Echo configuration file

        <Files>
            <Folder name="src/echo" defaultOpen>
                <File name="index.ts" />
            </Folder>
        </Files>

        ```typescript title="src/echo/index.ts" lineNumbers
        import Echo from "@merit-systems/echo-next-sdk";

        export const { handlers, isSignedIn, openai, anthropic } = Echo({
            appId: "YOUR_ECHO_APP_ID", // from previous step
        });

        ```
    </Step>
    

    <Step>
        ### Add Echo Routes
        <Files>
            <Folder name="src/app/api/echo/[...echo]" defaultOpen>
                <File name="route.ts" />
            </Folder>
        </Files>

        ```typescript title="src/app/api/echo/[...echo]/route.ts" lineNumbers
        import { handlers } from "@/echo";
        export const { GET, POST } = handlers;
        ```
    </Step>

    <Step>
        ### Sign In From Client
        Create an action in the front-end that redirects users to authorize your application with [echo.merit.systems](echo.merit.systems).
        ```tsx title="app/page.tsx" lineNumbers
        import { signIn, isSignedIn } from "@merit-systems/echo-next-sdk/client";

        export default Home() {
            if (!isSignedIn()) {
                return <button onClick={() => signIn()}>Sign In</button>
            }
            return (
                <div>
                    <p>Monetization Activated ðŸ“ˆ</p> 
                </div>
            )
        }
        ```

        Sign in will hit the route we setup in [Step 5](#add-echo-routes) and redirect from the server.
    </Step>

    <Step>
        ### Use `generateText` / `streamText` from the server
        Echo is a standard [Vercel AI SDK](https://ai-sdk.dev/docs/introduction) provider.

        <Files>
            <Folder name="app/api/ai" defaultOpen>
                <File name="route.ts" />
            </Folder>
        </Files>



        Add [Vercel AI SDK server routes](https://ai-sdk.dev/docs/ai-sdk-ui/completion) with Echo providers.

        ```typescript title="app/api/completion/route.ts" lineNumbers
        // [!code ++:1]
        import { openai } from "@/echo";
        import { convertToModelMessages, streamText } from "ai";

        export async function POST(req: Request) {
            const { messages } = await req.json();

            const result = streamText({
                model: openai("gpt-5"), 
                messages: convertToModelMessages(messages),
            });

            return result.toUIMessageStreamResponse();
        }
        
        ```
    </Step>

    <Step>
        ### `useChat()` from the client
        ```tsx title="app/components/chat.tsx" lineNumbers
        "use client";

        import { useChat } from "@ai-sdk/react";
        import { useState } from "react";

        export default function Chat() {
            const [input, setInput] = useState("");
            const { messages, sendMessage } = useChat();
            return (
                <div>
					{messages.map((message) => (
						<div>{JSON.stringify(message)}</div>
					))}
					<input value={input} onChange={(e) => setInput(e.currentTarget.value)} />
					<button type="submit" onClick={() => sendMessage({ text: input })}>Send</button>
                </div>
            );
        }

        ```



        Then add use it on the authenticated page. 

        ```tsx title="app/page.tsx" lineNumbers
        // [!code ++:1]
        import Chat from "./components/chat";
        import { signIn, isSignedIn } from "@merit-systems/echo-next-sdk/client";


        export default Home() {
            if (!isSignedIn()) {
                return <button onClick={() => signIn()}>Sign In</button>
            }
            // [!code ++:1]
            return <Chat />;
            // [!code --:3]
            return (
                <div> Monetization Activated ðŸ“ˆ</div>
            )
            
        }
        ```

    </Step>

    <Step>
        ### Prosper
    </Step>


</Steps>

## Next Steps

For detailed documentation and advanced features, see the [Next.js SDK overview](/docs/next-sdk).
