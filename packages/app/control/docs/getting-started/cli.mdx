---
title: TypeScript CLI
description: Build AI CLI apps with Echo's billing infrastructure
---

import { Step, Steps } from 'fumadocs-ui/components/steps';

# TypeScript CLI with Echo

Create CLI tools that generate revenue from AI usage. Echo handles user authentication, billing, and AI provider access through a simple API key flow.

<Steps>

    <Step>
        ### Install SDKs

        <Tabs items={['npm', 'yarn', 'pnpm', 'bun']}>
            <Tab value="npm">
                ```sh
                npm i @merit-systems/echo-typescript-sdk ai enquirer open
                ```
            </Tab>
            <Tab value="yarn">
                ```sh
                yarn add @merit-systems/echo-typescript-sdk ai enquirer open
                ```
            </Tab>
            <Tab value="pnpm">
                ```sh
                pnpm add @merit-systems/echo-typescript-sdk ai enquirer open
                ```
            </Tab>
            <Tab value="bun">
                ```sh
                bun add @merit-systems/echo-typescript-sdk ai enquirer open
                ```
            </Tab>
        </Tabs>
    </Step>

    <Step>
        ### Create Echo App
        Go to [echo.merit.systems/new](https://echo.merit.systems/new) to get your `app_id`.
    </Step>

    <Step>
        ### Set up authentication
        ```typescript title="cli.ts"
        import { EchoClient, createEchoOpenAI } from '@merit-systems/echo-typescript-sdk';
        import { generateText } from 'ai';
        import { prompt } from 'enquirer';
        import { open } from 'open';

        const APP_ID = 'your-echo-app-id';

        // Get API key from user
        console.log('Opening Echo to create your API key...');
        await open(`https://echo.merit.systems/app/${APP_ID}/keys`);

        const { apiKey } = await prompt({
          type: 'input',
          name: 'apiKey',
          message: 'Enter your API key:'
        });
        ```
    </Step>

    <Step>
        ### Create AI provider
        ```typescript title="cli.ts"
        // Create Echo client for balance/payments
        const echo = new EchoClient({ apiKey });

        // Create OpenAI provider with Echo billing
        const openai = createEchoOpenAI(
          { appId: APP_ID },
          async () => apiKey
        );
        ```
    </Step>

    <Step>
        ### Make AI calls
        ```typescript title="cli.ts"
        // Generate text with automatic billing
        const { text } = await generateText({
          model: openai('gpt-4'),
          prompt: 'Explain quantum computing in simple terms',
        });

        console.log(text);
        ```
    </Step>

    <Step>
        ### Add balance checking
        ```typescript title="cli.ts"
        // Check user's balance
        const balance = await echo.balance.getBalance();
        console.log(`Balance: $${balance.balance}`);

        // Create top-up link if needed
        if (balance.balance < 1) {
          const payment = await echo.payments.createPaymentLink({
            amount: 10,
          });

          console.log('Low balance. Opening payment link...');
          await open(payment.url);
        }
        ```
    </Step>

    <Step>
        ### Run your CLI
        ```sh
        npx tsx cli.ts
        ```
    </Step>

    <Step>
        ### Prosper.
    </Step>

</Steps>

## Next Steps

For detailed documentation and advanced features, see the [TypeScript SDK overview](/docs/typescript-sdk).
